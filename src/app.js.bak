import React from 'react';
import ReactDOM from 'react-dom';

import './styles/styles.scss';
import 'react-datetime/css/react-datetime.css';
import {LandingPage} from "./components/LandingPage";
import {StoreProvider} from "./components/StoreContext";
import {ErrorAlert} from "./components/ErrorAlert";

// Add pad method to the Number prototype
Number.prototype.pad = function (size)
{
    let s = String(this);
    while (s.length < (size || 2))
    {
        s = "0" + s;
    }
    return s;
};

// Determine browser via duck type hunting.
// Note: IE stupidity is handled in index.html
let isChrome = !!window.chrome && !!window.chrome.webstore;

/*
  let isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;
  let isFirefox = typeof InstallTrigger !== 'undefined';
  let isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || (typeof safari !== 'undefined' && safari.pushNotification));
  let isEdge = !isIE && !!window.StyleMedia;
  let isBlink = (isChrome || isOpera) && !!window.CSS;
*/

const IS_DEVELOPMENT = process.env.NODE_ENV.toLowerCase() === 'development';
if (IS_DEVELOPMENT) {
    if (module.hot) {
        module.hot.accept();
    }
}

const jsx = (
    <StoreProvider>
        <ErrorAlert>
            <LandingPage isChrome={isChrome}/>
        </ErrorAlert>
    </StoreProvider>
);

ReactDOM.render(jsx, document.getElementById('app'));
